{% extends "base.html" %}
{% block html_lang %}{{ article.lang }}{% endblock %}

{% block title %}{{ SITENAME }} - {{ article.title|striptags  }}{% endblock %}

{% block head %}
  {{ super() }}

  {% if article.description %}
    <meta name="description" content="{{article.description}}" />
  {% endif %}

  {% for tag in article.tags %}
    <meta name="tags" content="{{tag}}" />
  {% endfor %}
{% endblock %}

{% block content %}
  <header>
    <h1 id="{{ article.title }}">{{ article.title }}</h1>
    <p class="author">{{ article.author }}</p>
    {% if article.locale_date and article.locale_modified %}
    <p class="date">{{ article.locale_date }} | {{ article.locale_modified }}</p>
    {% elif article.locale_date %}
      <p class="date">{{ article.locale_date }}</p>
    {% endif %}
  </header>
  {{ article.content }}
  <ul class="categories">
    <i title="category" class="fas fa-folder-open"></i>
    {% for category, articles in categories|sort %}
        {% if category == article.category %}
          <li><a class="button is-light" href="{{ SITEURL }}/{{ category.url }}">{{ category }} ({{ articles|count }})</a></li>
        {% endif %}
    {% endfor %}
   </ul>
  <ul class="tags">
    <i title="tags" class="fas fa-tags"></i>
    {% for tag, articles in tags|sort %}
        {% if tag in article.tags %}
          <li><a class="button is-light" href="{{ SITEURL }}/{{ tag.url }}">{{ tag }} ({{ articles|count }})</a></li>
        {% endif %}
    {% endfor %}
    </ul>
  </ul>
{% endblock %}
