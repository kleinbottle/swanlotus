{% extends "base.html" %}
{% block html_lang %}{{ article.lang }}{% endblock %}

{% block title %}{{ SITENAME }} - {{ article.title|striptags }}{% endblock %}

{% block head %}
  {{ super() }}

  {% if article.description %}
    <meta name="description" content="{{article.description}}" />
  {% endif %}

  {% for tag in article.tags %}
    <meta name="tags" content="{{tag}}" />
  {% endfor %}
{% endblock %}

{% block content %}
  <header class="mb-4">
    <h1 id="{{ article.title|lower|replace(' ', '-') }}">{{ article.title }}</h1>
    <p class="author">{{ article.author }}</p>
    {% if article.locale_date and article.locale_modified %}
      <p class="date">{{ article.locale_date }} | {{ article.locale_modified }}</p>
    {% elif article.locale_date %}
      <p class="date">{{ article.locale_date }}</p>
    {% endif %}
    {% if article.reading_time %}
      <p class="reading-time">Reading Time: {{ article.reading_time }}</p>
    {% endif %}
  </header>
  {% if article.toc %}
    <div class="is-hidden-tablet is-size-6-mobile">
      {{ article.toc }}
    </div>
  {% endif %}
  {{ article.content }}
  <ul class="categories">
    {% for category, articles in categories|sort %}
        {% if category == article.category %}
          <li><a class="button is-light is-size-7-mobile is-size-6-tablet" href="{{ SITEURL }}/{{ category.url }}"><i title="category" class="fas fa-folder fa-fw"></i>&nbsp;{{ category }} ({{ articles|count }})</a></li>
        {% endif %}
    {% endfor %}
   </ul>
  <ul class="tags">
    {% for tag, articles in tags|sort %}
        {% if tag in article.tags %}
          <li><a class="button is-light is-size-7-mobile is-size-6-tablet mb-1" href="{{ SITEURL }}/{{ tag.url }}"><i title="tag" class="fas fa-tag fa-fw"></i>&nbsp;{{ tag }} ({{ articles|count }})</a></li>
        {% endif %}
    {% endfor %}
    </ul>
  </ul>
{% endblock %}

{% block sidebar_content %}
{% if article.toc %}
<div class="is-hidden-mobile">
  {{ article.toc }}
</div>
{% endif %}
{% endblock %}
